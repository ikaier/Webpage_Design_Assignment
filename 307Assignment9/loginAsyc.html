<!DOCTYPE html>
<!--Houkai Qian 260849921-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!--To ensure the width of page is fixed at 800px-->
    <meta name="viewport" content="width=800, initial-scale=1, shrink-to-fit=no">
    <title>Registration Form</title>
    <!--Need internet access to load style sheet from boostrap-->
    <!-- I used bootstrap that we learned from lecture 6 to stylise the page-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<!--The out most container that display the background color-->
<div class="container h-100 bg-danger" id="maincontainer">
    <!--The container that makes card center vertically-->
    <div class="row align-items-center h-100" id="rowcontainer">
        <!--The container that makes card center horizontally-->
        <div class="col-10 mx-auto" id="colcontainer">
            <!--The div used to display as a card-->
            <div class="card mx-auto mt-auto">
                <!--The div that davide a card into two parts: photo & form -->
                <div class="row no-gutters">
                    <!--left part of the card: photo. occupied 4/12 width of the card -->
                    <div class="col-4">
                        <img class="cardimg card-img-top" src="img.jpg" alt="Card image cap">
                    </div>
                    <!--right part of the card: form:occupied 8/12 width of the card -->
                    <div class="col-8">
                        <div class="card-body">

                            <!--==============================  Title of the form ==========================-->

                            <h2 class="card-title mt-5">Login</h2>
                            <p class="card-text">Please fill in all fields and click Login</p>
                            <form id="myForm">
                                <div class="form-group">
                                    <label for="email">Username</label>
                                    <input type="text" name="var1" class="form-control" id="email" placeholder="Please enter your username">
                                </div>

                                <div class="form-group">
                                    <label for="password">Password</label>
                                    <input type="password" name="var2" class="form-control" id="password" placeholder="Please enter your password">
                                </div>

                                <p class="card-text bg-danger" id="Show"></p>

                                <button type="button" onclick="loadDoc()" id="submitbutton" class="btn btn-danger mt-4 mb-2">Login</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    function loadDoc(){
        try{
            const form = document.getElementById( "myForm" );
            const FD = new FormData( form );

            asyncRequest=new XMLHttpRequest();
            asyncRequest.addEventListener(
                "readystatechange",stateChange,false
            );
            asyncRequest.open("POST","./cgi-bin/checkpass.py",true);
            asyncRequest.send(FD);
        }
        catch(exception){
            alert("Request Failed.")
        }
    }
    function stateChange(){
        if(asyncRequest.readyState==4&&asyncRequest.status==200){
            document.getElementById("Show").innerHTML=asyncRequest.responseText;
        }
    }
</script>

</body>
</html>